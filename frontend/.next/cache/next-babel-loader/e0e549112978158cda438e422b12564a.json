{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ducp1\\\\Desktop\\\\journalProject\\\\frontend\\\\pages\\\\journals\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n//build-in component for sticking elements to 'head' of the page\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Layout from '../../components/Layout';\nimport { useState } from 'react';\nimport { listJournals } from '../../actions/journal';\nimport { API } from '../../config';\nimport renderHTML from 'react-render-html';\nimport moment from 'moment'; //need to write a metatitle and meta description,opengraph title descrip\n\nvar Journal = function Journal(_ref) {\n  var journals = _ref.journals,\n      categories = _ref.categories,\n      tags = _ref.tags,\n      size = _ref.size;\n\n  var showAllJournals = function showAllJournals() {\n    return journals.map(function (journal, index) {\n      return __jsx(\"article\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"lead pb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, __jsx(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/journals/\".concat(journal.slug),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        className: \"pt-3 pb-3 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, \"\".concat(journal.title))))), __jsx(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        className: \"mark ml-1 pt-2 pb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, \"Author: \", journal.author.name, \" || Created At: \", moment(journal.updatedAt).fromNow())), __jsx(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Blog categories and Tags\")), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"image\"), __jsx(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"pb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, journal.democontent), __jsx(Link, {\n        href: \"/journals/\".concat(journal.slug),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        className: \"btn btn-primary pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Read more\"))))), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }));\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12 pt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    className: \"display-4 font-weight-bold text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Journals\")), __jsx(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"categories and tags\")))), __jsx(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, showAllJournals()))))));\n}; //using lifecycle method,make request to backend and return the data\n\n\nJournal.getInitialProps = function () {\n  return listJournals().then(function (data) {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      //return properties from response\n      //props can be passed to funtion to be rendered\n      return {\n        journals: data.journals,\n        categories: data.categories,\n        tags: data.tags,\n        size: data.size\n      };\n    }\n  });\n};\n\nJournal.defaultProps = {\n  name: \"Duc\"\n};\nexport default Journal; //getInitialProps: server-side rendered method. Can only be used on pages, not in the components\n//server side render the page","map":{"version":3,"sources":["C:/Users/ducp1/Desktop/journalProject/frontend/pages/journals/index.js"],"names":["Head","Link","Layout","useState","listJournals","API","renderHTML","moment","Journal","journals","categories","tags","size","showAllJournals","map","journal","index","slug","title","author","name","updatedAt","fromNow","democontent","getInitialProps","then","data","error","console","log","defaultProps"],"mappings":"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","sourcesContent":["//build-in component for sticking elements to 'head' of the page\r\nimport Head from 'next/head'\r\n\r\nimport Link from 'next/link'\r\nimport Layout from '../../components/Layout'\r\nimport {useState} from 'react'\r\nimport {listJournals} from '../../actions/journal'\r\nimport {API} from '../../config'\r\nimport renderHTML from 'react-render-html'\r\nimport moment from 'moment'\r\n//need to write a metatitle and meta description,opengraph title descrip\r\n\r\nconst Journal = ({journals,categories,tags,size}) => {\r\n\tconst showAllJournals = () => {\r\n\t\treturn journals.map((journal,index)=>{\r\n\t\t\treturn <article key={index}>\r\n\t\t\t\t<div className=\"lead pb-4\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Link href={`/journals/${journal.slug}`}>\r\n\t\t\t\t\t\t\t<a><h3 className=\"pt-3 pb-3 text-center\">{`${journal.title}`}</h3></a>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t\t<p className=\"mark ml-1 pt-2 pb-2\">\r\n\t\t\t\t\t\t\tAuthor: {journal.author.name} || Created At: {moment(journal.updatedAt).fromNow()}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t\t<p>Blog categories and Tags</p>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-4\">image</div>\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t<div className=\"pb-3\">{journal.democontent}</div>\r\n\t\t\t\t\t\t\t<Link href={`/journals/${journal.slug}`}>\r\n\t\t\t\t\t\t\t\t<a className=\"btn btn-primary pt-2\">Read more</a>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr/>\r\n\t\t\t</article>\r\n\t\t})\r\n\t}\r\n\r\n\r\n\treturn(\r\n\t\t<React.Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<div className=\"col-md-12 pt-3\">\r\n\t\t\t\t\t\t\t<h1 className=\"display-4 font-weight-bold text-center\">Journals</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<section><p>categories and tags</p></section>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-12\">{showAllJournals()}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\t\t\t</Layout>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\n//using lifecycle method,make request to backend and return the data\r\nJournal.getInitialProps = () => {\r\n\treturn listJournals().then(data=>{\r\n\t\tif (data.error) {\r\n\t\t\tconsole.log(data.error)\r\n\t\t} else {\r\n\t\t\t//return properties from response\r\n\t\t\t//props can be passed to funtion to be rendered\r\n\t\t\treturn {\r\n\t\t\t\tjournals: data.journals,\r\n\t\t\t\tcategories: data.categories,\r\n\t\t\t\ttags: data.tags,\r\n\t\t\t\tsize: data.size\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nJournal.defaultProps = {\r\n\tname: \"Duc\"\r\n}\r\n\r\n\r\nexport default Journal\r\n\r\n//getInitialProps: server-side rendered method. Can only be used on pages, not in the components\r\n//server side render the page"]},"metadata":{},"sourceType":"module"}