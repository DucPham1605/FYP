{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ducp1\\\\Desktop\\\\journalProject\\\\frontend\\\\components\\\\Journal\\\\AmendJournal.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport Router from 'next/router';\nimport { withRouter } from 'next/router'; //use router,export component with router\n\nimport { getCookie, isLoggedIn } from '../../actions/handleCookie';\nimport { listJournalForManage, deleteJournal, updateJournal } from '../../actions/journal';\nimport renderHTML from 'react-render-html';\nimport moment from 'moment';\n\nvar AmendJournal = function AmendJournal() {\n  var _useState = useState([]),\n      journals = _useState[0],\n      setJournals = _useState[1];\n\n  var _useState2 = useState(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var token = getCookie('token'); //when component mount\n\n  useEffect(function () {\n    loadJournals();\n  }, []);\n\n  var loadJournals = function loadJournals() {\n    listJournalForManage().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setJournals(data);\n      }\n    });\n  };\n\n  var showJournals = function showJournals() {\n    return journals.map(function (journal, index) {\n      return __jsx(\"div\", {\n        className: \"mt-5\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, journal.title), __jsx(\"p\", {\n        className: \"mark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"Written by \", journal.author.name, \"  || Created at \", moment(journal.createdAt).fromNow(), \" \"));\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, showJournals()))));\n};\n\nexport default AmendJournal;","map":{"version":3,"sources":["C:/Users/ducp1/Desktop/journalProject/frontend/components/Journal/AmendJournal.js"],"names":["Link","useState","useEffect","Router","withRouter","getCookie","isLoggedIn","listJournalForManage","deleteJournal","updateJournal","renderHTML","moment","AmendJournal","journals","setJournals","message","setMessage","token","loadJournals","then","data","error","console","log","showJournals","map","journal","index","title","author","name","createdAt","fromNow"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,UAAT,QAA2B,aAA3B,C,CAA0C;;AAC1C,SAASC,SAAT,EAAoBC,UAApB,QAAsC,4BAAtC;AACA,SAASC,oBAAT,EAA8BC,aAA9B,EAA4CC,aAA5C,QAAiE,uBAAjE;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA,kBACKX,QAAQ,CAAC,EAAD,CADb;AAAA,MACnBY,QADmB;AAAA,MACVC,WADU;;AAAA,mBAEGb,QAAQ,CAAC,EAAD,CAFX;AAAA,MAEnBc,OAFmB;AAAA,MAEXC,UAFW;;AAG1B,MAAMC,KAAK,GAAGZ,SAAS,CAAC,OAAD,CAAvB,CAH0B,CAK1B;;AACAH,EAAAA,SAAS,CAAC,YAAI;AACbgB,IAAAA,YAAY;AACZ,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAMA,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BX,IAAAA,oBAAoB,GAAGY,IAAvB,CAA4B,UAAAC,IAAI,EAAE;AACjC,UAAGA,IAAI,CAACC,KAAR,EAAc;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACA,OAFD,MAEO;AACNP,QAAAA,WAAW,CAACM,IAAD,CAAX;AACA;AACD,KAND;AAOA,GARD;;AAUA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B,WAAOX,QAAQ,CAACY,GAAT,CAAa,UAACC,OAAD,EAASC,KAAT,EAAiB;AACpC,aACC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAEA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,OAAO,CAACE,KAAb,CADA,EAEA;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgCF,OAAO,CAACG,MAAR,CAAeC,IAA/C,sBAAqEnB,MAAM,CAACe,OAAO,CAACK,SAAT,CAAN,CAA0BC,OAA1B,EAArE,MAFA,CADD;AAMA,KAPM,CAAP;AAQA,GATD;;AAWA,SACC,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCR,YAAY,EADb,CADA,CADD,CADD,CADD;AAWA,CA1CD;;AA4CA,eAAeZ,YAAf","sourcesContent":["import Link from 'next/link';\r\nimport { useState, useEffect } from 'react';\r\nimport Router from 'next/router';\r\nimport { withRouter } from 'next/router'; //use router,export component with router\r\nimport { getCookie, isLoggedIn } from '../../actions/handleCookie';\r\nimport { listJournalForManage,deleteJournal,updateJournal } from '../../actions/journal';\r\nimport renderHTML from 'react-render-html'\r\nimport moment from 'moment'\r\n\r\nconst AmendJournal = () => {\r\n\tconst [journals,setJournals] = useState([])\r\n\tconst [message,setMessage] = useState('')\r\n\tconst token = getCookie('token')\r\n\r\n\t//when component mount\r\n\tuseEffect(()=>{\r\n\t\tloadJournals()\r\n\t},[])\r\n\r\n\tconst loadJournals = () => {\r\n\t\tlistJournalForManage().then(data=>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error)\r\n\t\t\t} else {\r\n\t\t\t\tsetJournals(data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst showJournals = () => {\r\n\t\treturn journals.map((journal,index)=>{\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mt-5\" key={index}>\r\n\t\t\t\t<h3>{journal.title}</h3>\r\n\t\t\t\t<p className=\"mark\">Written by {journal.author.name}  || Created at {moment(journal.createdAt).fromNow()} </p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t{showJournals()}\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default AmendJournal"]},"metadata":{},"sourceType":"module"}