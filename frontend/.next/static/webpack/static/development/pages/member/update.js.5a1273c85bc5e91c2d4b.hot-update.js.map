{"version":3,"file":"static/webpack/static\\development\\pages\\member\\update.js.5a1273c85bc5e91c2d4b.hot-update.js","sources":["webpack:///./actions/auth.js"],"sourcesContent":["import fetch from 'isomorphic-fetch'\r\nimport {API} from '../config'\r\nimport {removeCookie,removeLocalStorage} from './handleCookie'\r\n\r\nexport const register = member => {\r\n\treturn fetch(`${API}/register`,{\r\n\t\tmethod: 'POST',\r\n\t\theaders : {\r\n\t\t\tAccept: 'application/json',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(member)\r\n\t})\r\n\t.then(response => {\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error => console.log(error))\r\n}\r\n//make request to backend, backend create new user and response in JSON format\r\n\r\nexport const login = member => {\r\n\treturn fetch(`${API}/login`,{\r\n\t\tmethod: 'POST',\r\n\t\theaders : {\r\n\t\t\tAccept: 'application/json',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(member)\r\n\t})\r\n\t.then(response => {\r\n\t\treturn response.json()\r\n\t})\r\n\t.catch(error => console.log(error))\r\n}\r\n\r\nexport const logout = (next) => {\r\n\tremoveCookie('token')\r\n\tremoveLocalStorage('member')\r\n\tnext()\r\n\r\n\treturn fetch(`{API}/logout`, {\r\n\t\tmethod: 'GET'\r\n\t})\r\n\t.then(response =>{\r\n\t\tconsole.log('Logged out successfully')\r\n\t})\r\n\t.catch(error => console.log(error));\r\n}\r\n\r\nexport const updateMember = (member,next) => {\r\n\t//checking if is it in the client side\r\n\tif(process.browser){\r\n\t\tif(localStorage.getItem('member')){\r\n\t\t\tlet oldMember = JSON.parse(localStorage.getItem('member'))\r\n\t\t\toldMember = member\r\n\t\t\tlocalStorage.setItem('member',JSON.stringify(oldMember));\r\n\t\t\tnext()\r\n\t\t}\r\n\t}\r\n}\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AANA;AASA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AANA;AASA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}