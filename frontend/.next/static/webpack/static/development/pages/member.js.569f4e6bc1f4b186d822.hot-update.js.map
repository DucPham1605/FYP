{"version":3,"file":"static/webpack/static\\development\\pages\\member.js.569f4e6bc1f4b186d822.hot-update.js","sources":["webpack:///./pages/member/index.js"],"sourcesContent":["import Layout from '../../components/Layout'\r\nimport Member from '../../components/Member'\r\nimport Link from 'next/link'\r\nimport {getProfileAndJournal} from '../../actions/member'\r\nimport {useEffect,useState} from 'react'\r\nimport {getCookie} from '../../actions/handleCookie'\r\nimport moment from 'moment'\r\nimport {API} from '../../config'\r\n\r\nconst MemberDashboard = () => {\r\n\tconst [member,setMember] = useState({})\r\n\tconst [journals,setJournals] = useState([])\r\n\r\n\tconst token = getCookie('token')\r\n\r\n\tuseEffect(()=>{\r\n\t\tloadProfileAndJournal()\r\n\t},[])\r\n\r\n\tconst {username,name,createdAt} = member\r\n\r\n\tconst loadProfileAndJournal = () => {\r\n\t\tgetProfileAndJournal(token).then(data=>{\r\n\t\t\tif(data.error){\r\n\t\t\t\tconsole.log(data.error)\r\n\t\t\t} else {\r\n\t\t\t\tsetMember(data.member)\r\n\t\t\t\tsetJournals(data.journals)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst showMemberJournal = () => {\r\n\t\treturn journals.map((journal,index)=>{\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"mt-2 mb-2\" key={index}>\r\n\t\t\t\t\t<Link href={`/journals/${journal.slug}`}>\r\n\t\t\t\t\t\t<a className=\"lead\">{journal.title}</a>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t<Layout>\r\n\t\t\t<Member>\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>{name}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">User joined {moment(createdAt).fromNow()}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`${API}/member/photo/${username}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"User profile picture\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{maxWidth: '100%',maxHeight: '100%'}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img img-fluid\" \r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br/>\r\n\r\n\t\t\t\t\t<div className=\"pb-5\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-light \">Recent journals</h5>\r\n\t\t\t\t\t\t\t\t\t{showMemberJournal()}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-light \">Statistics</h5>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2 mb-2\">{journals.length} journals created</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t<div className=\"row pb-2\" >\r\n\t\t\t\t\t\t<div className=\"col-md-12 pt-5 pb-5\">\r\n\t\t\t\t\t\t\t<h2>Member Dashboard</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/update\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>Update Profile</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t  \t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/journal\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>Create Journal</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t  \t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/journal-manage\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>Update/Delete Journal</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<ul className=\"list-group\">\r\n\r\n\t\t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/update\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>A feature</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t  \t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/journal\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>A feature</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t  \t\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\t\t  \t\t\t\t\t\t\t<Link href=\"/member/journal-manage\">\r\n\t\t  \t\t\t\t\t\t\t\t<a>A feature</a>\r\n\t\t  \t\t\t\t\t\t\t</Link>\r\n\t  \t\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Member>\r\n\t\t</Layout> \r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\n\r\nexport default MemberDashboard;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AACA;AARA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AAEA;;;;A","sourceRoot":""}